

# DSpider简介

> [网络爬虫](http://baike.baidu.com/view/284853.htm)（又被称为网页[蜘蛛](http://baike.baidu.com/subview/8483/5395928.htm)，网络机器人，网页追逐者），是一种按照一定的规则，自动地抓取[万维网](http://baike.baidu.com/view/7833.htm)信息的程序或者脚本，也是搜索引擎的关键技术。在如今大数据时代，很多产品需要依赖不同的数据，各行各业的公司对数据获取的能力需求也越来越大。传统的解决方案都是后台脚本去模拟用户http请求从而获取网页数据，但是，后台的解决方案同时也面临着各种个样的问题，比如目标网站对ip请求频率限制、通过验证码对人机认证、通过javascript在前端动态生成网页使爬虫难以获取等等，而这些痛点对于后台爬虫都是非常棘手的问题，而dspider的诞生，正是一剂猛药，直指病根...

**DSpider是一个使用Javascrip语言的客户端爬取平台，由ios/android sdk、Pc工具、以及云管理平台三部分组成**。

## 客户端爬虫

### 后台爬取方案的问题

在了解客户端爬取之前，得先了解数据爬取的的现状，现在的方案基本都是通过后台脚本（python居多），或者程序（如搜索引擎的爬虫程序）去获取数据，然后将获取到的数据存储在自己的服务器，然后将这些数据或用于分析，或最终展现给自己产品的用户，我们称其这种爬取方式为后端爬取或后台爬取。下面来看看后台爬取面临的问题：

1. IP访问频率限制；是指有时网站会对某个固定ip在某段时间内请求的次数做限制，如果没有超过上线则正常返回数据，超过了则拒绝请求。值得说明的是，ip限制有时并非是专门为了针对爬虫的，而大多数时候是出于网站安全原因针对DOS攻击的防御措施。后台爬取时机器和ip有限，很容易达到上线而导致请求被拒绝。
2. 动态验证；常用的是验证码，现在出现一些操作性验证，如给出一个滑块让你滑动到什么位置，或者给你一个候选列表，让你选出符合某个指定条件的项,如12306。目标网站使用该技术主要是为了区分请求是人发出的还是机器发出的，通常用于用户登录或关键操作。用于用户登录时，目的是为了防止暴力破解，加入一个网站对用户登录的次数没有限制，同时也没有采用验证码，攻击者完全可以写一个程序不停的通过枚举密码去尝试登录，一旦某次登录成功（密码被试出），密码就会泄漏。而爬虫有时候需要获取一些用户登录后的网页，比如某个互联网金融公司放贷前需要了解该贷款客户的征信记录，而要获取征信记录必须要先登录。这时候后台的方案就很难了。
3. 难以获取动态生成的网页；睡着web 技术的快速发展，前端的开发框架百花齐放，而前端的框架中大都会用javascript去动态生成网页内容，越来越多的网站依赖ajax和javascript，尤其是这几年移动端SPA应用的暴增，单纯静态化的网站已经越来越少，在这种情况下，如果后台仍然只是一个简单的爬取脚本，单纯的获取html文档根本就得不到有用的数据。造成这种问题的本质原因是，后台爬虫不能完全像浏览器一样支持javascript, 当然，现在也出现了一些后台的javascript 引擎，如PhantomJs，但这个东西有很大效率问题，并且也不能完全像客户端js那样去使用。

此三点对于后台爬虫来说基本条条都是硬伤，当然，现在有些网站安全性考虑的不够，安全策略并非太过复杂，在有些场景下，对后端爬虫来说不至于会致命，但是，一旦有个新的需求遇到了这三座大山的其中一个，那将会是很麻烦的一件事。既然如此，在穷途陌路的时候，我们何不换个思路？

**山重水复疑无路，柳暗花明又一村，千呼万唤始出来，蓦然回首，犹抱琵琶半遮面！**

> 障碍，不一定非得正面跨过去，有时候，绕过去会更容易。

### 客户端爬取方案

如果能在用户端完成数据获取，后台爬虫面临的三座大山还在吗？对于ip限制，由于数据获取是在用户端完成的，我们每一个用户的ip 是不同的，ip限制则无效；对于动态验证，需要爬取用户登录后的信息时，我们肯定需要用户授权，所以对于验证码，我们可以引导用户自己操作，这根本不是问题; 对于最后一条动态网页内容的获取，这取决于客户端爬取平台的实现方式，**然而，时至今日，除了dspider, 全球没有一个客户端爬取的开放平台！dspider 是第一个从端到云管理平台一体的客户端爬取平台。** 

### 客户端方案的问题

后台爬取的程序是在后台，如果目标网站发生变化，可以随时更新爬取程序。但客户端爬取将会有问题，爬取脚本保存在客户端，那么就麻烦了。但是你不用担心，dSpider有着强大的云管理平台，你不仅可以实时更新脚本，也可以进行配置下发，获取爬取状态统计、错误分析等等，更多的功能仍在持续添加中....

## DSpider主要特点

### 客户端爬取

运行在ios/android端，第三方app只需要集成sdk即可，同时支持显示爬取和静默爬取，显示爬取有标准ui，静默爬取可以没有任何ui(app可以自定义)。同时提供了pc测试工具，它可以让脚本在pc上运行。

### 使用Javascript

Node的诞生让javascript突破了浏览器的限制，可以运行在服务端，极大的扩展的javascript用武之地。而dSpider再一次增大了javascript的舞台！正如文章开头所述：“dspider是一个使用Javascrip语言的客户端爬取台”。在dspider中，爬取脚本是用javascript来写，脚本执行环境和目标网页一样，在同一个浏览器页面的上下文环境中。换句话说，你的爬取脚本会像原网页脚本一样在同样的运行环境中执行，你可以获取网页所有的一切，也可以去操作它、修改它等等。总之，你的脚本会被当作原网页的一部分执行。

### 云管理平台

dSpider的爬取脚本是动态下发的，云管理平台主要用于配置脚本参数、更新脚本、统计脚本爬取状态、错误分析等。如果你是开发者，那么云管理平台同时也是发布、管理自己脚本的地方。

### 脚本商店

也许你只是名android或ios程序员，并不懂javascript。又或者你随然会javascript，但也并没有足够的时间去写脚本，那么可以试试在脚本商店中找一下是否有现成的脚本，如果很幸运已经有了，你可以直接通过云管理平台添加到自己的应用。如果你是一名前端开发者写了一个不错的爬取脚本，你想让更多的人了解并使用，可以将它发布到脚本商店。

最后，我们来总结一下：

### DSpider的9大特点

1. 突破ip限制，IP限制对DSpider彻底无效
2. 客户端用户授权时可手动登录，绕过验证码问题，使用户体验更友好。
3. 可以抓取动态生成的网页。
4. 脚本使用javascript语言，对于前端程序员0门槛。
5. 爬取脚本非常容易写，代码量极少，你可以使用任何前端的js库，同时dSpider内置jQuery,让解析网页非常容易。
6. 测试支持；支持本地调试，同时提供pc端测试工具。
7. 强大的云管理平台；实时监视应用爬取状态、动态更新脚本、错误分析、配置下发等众多功能。
8. 支持ios/android，支持静默爬取。
9. 脚本商店；完整的生态系统和用户群，用户可以发布脚本到脚本商店，其它用户可以自由添加。用户无需自己写代码。

****













